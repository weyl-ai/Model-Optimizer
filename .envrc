#!/usr/bin/env bash
# ^ added for shellcheck and file-type detection

# n.b. watch and reload direnv on change...
watch_file flake.nix
watch_file pyproject.toml
watch_file uv.lock

if [[ $(type -t use_flake) != function ]]; then
  echo "ERROR: use_flake function missing."
  echo "Please update direnv to v2.30.0 or later."

  exit 1
fi

use flake
